(this.webpackJsonpyoututor=this.webpackJsonpyoututor||[]).push([[0],{133:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(13),i=a.n(s),o=(a(133),a(16)),r=a(5),l=a(186),d=a(33),j=Object(d.a)(),u=a(106),b=a(187),h=a(213),O=a(63),f=a(185),x=a(9),m=a(188),p=a(190),g=a(110),k=a(191),v=a(147),y=a(101),S=a.n(y),w=a(103),C=a.n(w),_=a(102),A=a.n(_),N=a(214),D=a(189),T=a(111),q=a(99),z=a.n(q),E=a(182),W=a(100),M=a.n(W),P=a(1),F=function(){window.location.href="https://ccfinalsy2938.auth.us-east-1.amazoncognito.com/login?client_id=1d1mb2ktfap98hgif1iigjb9fk&response_type=token&scope=aws.cognito.signin.user.admin+email+openid+phone+profile&redirect_uri=https://ludecomposition.github.io/login"};function R(e){return Object(P.jsx)("div",{children:Object(P.jsx)(E.a,{checked:e.isDark,onChange:e.onChange,name:"isDark",inputProps:{"aria-label":"primary checkbox"},id:"switch"})})}function B(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){s(!0)}),[]);window.addEventListener("scroll",(function(e){return function(e){0==e.currentTarget.scrollY?s(!0):s(!1)}(e)}));var i="null"!=e.token,o=e.isDark,d=Object(f.a)((function(e){return{root:{border:"None",flexGrow:1},menuButton:{marginRight:e.spacing(2.5)},title:{flexGrow:1},search:Object(O.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(x.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(x.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(O.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}))(),j=Object(l.e)(),h="",y="";i?o?(h="#333333",y="#ffffff"):(h="#dc95ee",y="#000000"):(h="#9492ef",y="#ffffff");var w=Object(u.a)({palette:{primary:{main:h},secondary:{main:y}}}),_=Object(n.useState)(""),q=Object(r.a)(_,2),E=q[0],W=q[1];return Object(P.jsx)(b.a,{theme:w,children:Object(P.jsx)("div",{className:d.root,children:Object(P.jsx)(m.a,{position:"fixed",elevation:0,color:"transparent",children:Object(P.jsx)(D.a,{maxWidth:"lg",children:Object(P.jsxs)(p.a,{children:[c?Object(P.jsx)(N.a,{display:"inline",children:Object(P.jsx)(k.a,{onClick:function(){W(""),j.push("/")},children:Object(P.jsx)("h2",{style:{fontFamily:"Righteous",color:i?o?"#ffffff":"#000000":"#ffffff"},children:"YouTutor"})})}):Object(P.jsx)("div",{}),i&&c?Object(P.jsxs)("div",{className:d.search,children:[Object(P.jsx)("div",{className:d.searchIcon,children:Object(P.jsx)(z.a,{})}),Object(P.jsx)("form",{onSubmit:function(e){""!==E&&(j.push({pathname:"/search",search:"?q="+E,state:{q:E}}),e.preventDefault())},children:Object(P.jsx)(T.a,{placeholder:"Search\u2026",classes:{root:d.inputRoot,input:d.inputInput},value:E,onChange:function(e){W(e.target.value)}})})]}):Object(P.jsx)("div",{}),Object(P.jsx)(g.a,{variant:"h6",className:d.title}),Object(P.jsx)(N.a,{display:"inline",children:i?Object(P.jsx)(R,{isDark:o,onChange:e.switchRole}):Object(P.jsx)("div",{})}),Object(P.jsxs)(N.a,{mx:"auto",display:"inline",children:[i?Object(P.jsx)(v.a,{edge:"start",className:d.menuButton,color:"inherit","aria-label":"menu",onClick:function(){W(""),j.push("/history")},children:Object(P.jsx)(M.a,{})}):Object(P.jsx)("div",{}),i?Object(P.jsx)(v.a,{edge:"start",className:d.menuButton,color:"inherit","aria-label":"menu",onClick:function(){W(""),j.push("/profile")},children:Object(P.jsx)(S.a,{})}):Object(P.jsx)(v.a,{edge:"start",className:d.menuButton,color:"secondary","aria-label":"menu",onClick:F,children:Object(P.jsx)(A.a,{})}),i?Object(P.jsx)(v.a,{edge:"start",className:d.menuButton,color:"inherit","aria-label":"menu",onClick:function(){e.logout(),l.a},children:Object(P.jsx)(C.a,{})}):Object(P.jsx)("div",{})]})]})})})})})}var H=a(192),L=a(195),I=a(193);function G(e){var t=Object(f.a)({root:{borderRadius:0,boxShadow:"none"},header:{fontSize:24,fontFamily:"New Tegomin",marginTop:"15%",marginLeft:"1%"}})();return Object(P.jsx)(H.a,{className:t.root,style:{background:e.isDark?"#333333":"linear-gradient(to bottom, #dc95ee, #ffffff)"},children:Object(P.jsx)(D.a,{maxWidth:"lg",children:Object(P.jsx)(I.a,{children:Object(P.jsx)(g.a,{component:"header",className:t.header,children:Object(P.jsx)("h2",{children:e.text})})})})})}var J=a(221),K=a(202),Y=a(150),U=a(40),V=a.n(U),Q=a(208),X=a(75),Z=a.n(X),$=a(220),ee=a(204),te=a(223),ae=a(194),ne=a(222);function ce(e){var t=[];e.profile.tags.forEach((function(e){t.push(Object(P.jsx)(ne.a,{label:e,size:"small",variant:"outlined"})),t.length>5&&t.shift()}));var a=Object(f.a)((function(e){return Object(J.a)({root:{width:"60%"},avatars:{width:e.spacing(7),height:e.spacing(7)},button:{}})}))();return Object(P.jsx)(H.a,{className:a.root,children:Object(P.jsx)(I.a,{children:Object(P.jsxs)(ae.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,alignItems:"center",children:[Object(P.jsx)(ae.a,{item:!0,xs:2,children:Object(P.jsx)(k.a,{size:"small",onClick:function(){e.handleProfile(e.profile.user_id)},children:Object(P.jsx)(te.a,{alt:e.profile.first_name+" "+e.profile.last_name,src:e.profile.picture,className:a.avatars})})}),Object(P.jsx)(ae.a,{item:!0,xs:7,children:Object(P.jsx)(g.a,{gutterBottom:!0,variant:"subtitle1",children:e.profile.first_name+" "+e.profile.last_name})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(g.a,{variant:"body2",gutterBottom:!0,children:e.profile.school})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsx)(g.a,{variant:"body2",gutterBottom:!0,children:Object(P.jsx)("div",{children:"K12"==e.profile.degree||"Others"==e.profile.degree?e.profile.degree:e.profile.degree+" in "+e.profile.major})})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsx)(g.a,{variant:"body2",color:"textSecondary",children:e.profile.introduction})}),Object(P.jsx)(ae.a,{container:!0,justify:"flex-start",xs:11,alignItems:"center",children:t}),Object(P.jsx)(ae.a,{container:!0,justify:"flex-end",xs:1,alignItems:"flex-end",children:Object(P.jsx)(L.a,{children:Object(P.jsx)(k.a,{variant:"outlined",size:"small",onClick:function(){e.handleAsk(e.profile.user_id,e.profile.first_name+" "+e.profile.last_name)},children:"ask"})})})]})})})}var se=a(219),ie=a(104),oe=a.n(ie),re=a(218),le=a(203),de=a(149),je="https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/question/";function ue(e){var t=Object(f.a)((function(t){return Object(J.a)({card:{background:e.isDark?"#424242":"#f2f3f5"},headerSize:{width:"30ch"},form:{margin:t.spacing(4)}})}))(),a=Object(n.useState)(""),c=Object(r.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(e.tags),l=Object(r.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),b=Object(r.a)(u,2),h=b[0],O=b[1],x=Object(n.useState)(""),m=Object(r.a)(x,2),p=m[0],v=m[1],y=Object(n.useState)(""),S=Object(r.a)(y,2),w=S[0],C=S[1],_=Object(n.useState)(""),A=Object(r.a)(_,2),N=A[0],T=A[1],q=Object(n.useState)(""),z=Object(r.a)(q,2),E=z[0],W=z[1],M=Object(n.useState)(""),F=Object(r.a)(M,2),R=F[0],B=F[1],L=Object(n.useState)(""),I=Object(r.a)(L,2),G=I[0],K=I[1],Y=Object(n.useState)(""),U=Object(r.a)(Y,2),V=U[0],Q=U[1];function X(e,t){t(e.target.value)}var Z=[];function $(){if(e.ask){var t=Date.now();if("Null"!==e.email){if(""===p||""===G||""===V)return void alert("please fill in required fields");var a=Date.parse(G),n=Date.parse(V);if(t>=a||t>=n)return void alert("please fill in times in the future");if(a>=n)return void alert("end time be after start time")}var c="";if(""!==N){var s=e.token.email+"_"+String((new Date).getTime())+"_"+N.split("\\")[N.split("\\").length-1];s=s.replace(/\s/g,"");var i={"Access-Control-Allow-Headers":"*",token:e.token.id_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PUT","Content-Type":R,Accept:R,"Access-Control-Allow-Credentials":"true"};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/question/attachment/"+s,{method:"PUT",headers:i,body:E}).catch((function(e){alert("failed to upload file")})),c="https://ccfinalattachment.s3.amazonaws.com/"+s.replace(/@/g,"%40")}var o=e.email,r={send_email:h,title:p,detail:w,attachment:c,start_time:"Null"!==e.email?G:"Null",end_time:"Null"!==e.email?V:"Null",tags:d,tutor_id:o,tutor_name:e.name},l={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Credentials":"true"};fetch(je,{method:"PUT",headers:l,body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){alert("question ask request submitted"),e.close()})).catch((function(e){alert("failed to submit question")}))}else{if(""===G||""===V)return void alert("please fill in required fields");var j=Date.now(),u=Date.parse(G),b=Date.parse(V);if(j>=u||j>=b)return void alert("please fill in times in the future");if(u>=b)return void alert("end time be after start time");var O={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Credentials":"true"},f={send_email:h,question_id:e.question_id,created_at:e.created_at,start_time:G,end_time:V,user_id:e.email,user_name:e.name,status:"accepted"};fetch(je,{method:"POST",headers:O,body:JSON.stringify(f)}).then((function(){alert("request sent"),e.close(),e.reload()})).catch((function(e){console.log(e),alert("failed to submit question")}))}}return e.ask?d.forEach((function(e){Z.push(Object(P.jsx)(ne.a,{size:"small",label:e,onDelete:function(){!function(e){j(d.filter((function(t){return t!==e})))}(e)},color:"secondary",variant:"outlined"}))})):d.forEach((function(e){Z.push(Object(P.jsx)(ne.a,{size:"small",label:e,color:"secondary",variant:"outlined"}))})),Object(P.jsx)("div",{children:Object(P.jsx)(D.a,{maxWidth:"md",children:Object(P.jsx)(H.a,{className:t.card,children:Object(P.jsx)(de.a,{className:t.form,onSubmit:$,children:Object(P.jsxs)(ae.a,{container:!0,spacing:2,children:["Null"!=e.email?Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsxs)(ae.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(P.jsx)(ae.a,{item:!0,children:Object(P.jsx)(oe.a,{})}),Object(P.jsx)(ae.a,{item:!0,children:Object(P.jsx)(se.a,{className:t.headerSize,label:e.ask?"ask":"answer",defaultValue:e.name,InputProps:{readOnly:!0}})}),Object(P.jsx)(ae.a,{item:!0,children:Object(P.jsx)(le.a,{control:Object(P.jsx)(re.a,{name:"email",color:"primary",checked:h,onChange:function(){O(!h)}}),label:"send notification by email"})})]})}):Object(P.jsx)("div",{}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:e.ask?Object(P.jsx)(se.a,{required:!0,className:t.headerSize,label:"Title",value:p,onChange:function(e){X(e,v)}}):Object(P.jsx)(se.a,{required:!0,className:t.headerSize,label:"Title",defaultValue:e.title,InputProps:{readOnly:!0}})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:e.ask?Object(P.jsx)(se.a,{fullWidth:!0,multiline:!0,label:"Detail",rows:6,variant:"outlined",value:w,onChange:function(e){X(e,C)}}):Object(P.jsx)(se.a,{fullWidth:!0,multiline:!0,label:"Detail",rows:6,variant:"outlined",defaultValue:e.detail,InputProps:{readOnly:!0}})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:e.ask?Object(P.jsx)("input",{type:"file",accept:"image/png, .pdf, image/jpeg, image/jpg",value:N,onChange:function(e){!function(e){W(e.target.files[0]),T(e.target.value),e.target.files[0]&&B(e.target.files[0].type)}(e)}}):Object(P.jsx)("a",{href:e.attachment,children:"attachment"})}),e.ask?Object(P.jsxs)(ae.a,{item:!0,xs:12,direction:"row",children:[Object(P.jsx)(se.a,{size:"small",className:t.headerSize,value:s,label:"Tag",onChange:function(e){X(e,i)}}),Object(P.jsx)(k.a,{size:"small",onClick:function(){if(!(d.includes(s)||d.length>=5||0==s.length||0==s.split(" ").length)){var e=d.concat(s);j(e)}},children:"add"})]}):Object(P.jsx)("div",{}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Z}),"Null"!=e.email?Object(P.jsxs)("div",{children:[Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsx)(g.a,{variant:"body2",color:"textSecondary",children:"Requested Time"})}),Object(P.jsx)(ae.a,{item:!0,xs:6,children:Object(P.jsx)("form",{noValidate:!0,children:Object(P.jsx)(se.a,{required:!0,id:"start-time",label:"Start Time",type:"datetime-local",value:G,onChange:function(e){X(e,K)},InputLabelProps:{shrink:!0}})})}),Object(P.jsx)(ae.a,{item:!0,xs:6,children:Object(P.jsx)("form",{noValidate:!0,children:Object(P.jsx)(se.a,{required:!0,id:"end-time",label:"End Time",type:"datetime-local",value:V,onChange:function(e){X(e,Q)},InputLabelProps:{shrink:!0}})})})]}):Object(P.jsx)("div",{}),Object(P.jsxs)(ae.a,{container:!0,direction:"row",children:[Object(P.jsx)(ae.a,{item:!0,xs:11}),Object(P.jsx)(ae.a,{item:!0,xs:1,children:Object(P.jsx)(k.a,{variant:"outlined",type:"submit",onClick:function(){$()},children:"null"!=e.email?e.ask?"Ask":"Enter":"Post"})})]})]})})})})})}var be=a(205),he=a(216),Oe=a(206),fe=a(198),xe=a(199),me=a(215),pe=a(207),ge=a(224),ke=c.a.forwardRef((function(e,t){return Object(P.jsx)(ee.a,Object(o.a)({direction:"left",ref:t},e))}));function ve(e){var t=Object(f.a)((function(t){return Object(J.a)({dialogCustomizedWidth:{"max-width":"100%",backgroundColor:"transparent",boxShadow:"none"},card:{background:e.isDark?"#424242":"#f2f3f5"},form:{margin:t.spacing(4)}})}))(),a=e.profile,c=Object(n.useRef)(null),s=Object(n.useState)(a.first_name),i=Object(r.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(a.last_name),j=Object(r.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(a.gender),O=Object(r.a)(h,2),x=O[0],m=O[1],p=Object(n.useState)(a.school),g=Object(r.a)(p,2),y=g[0],S=g[1],w=Object(n.useState)(a.degree),C=Object(r.a)(w,2),_=C[0],A=C[1],N=Object(n.useState)(a.major),T=Object(r.a)(N,2),q=T[0],z=T[1],E=Object(n.useState)(String(a.tutor)),W=Object(r.a)(E,2),M=W[0],F=W[1],R=Object(n.useState)(a.availability),B=Object(r.a)(R,2),L=B[0],I=B[1],G=Object(n.useState)(""),K=Object(r.a)(G,2),Y=K[0],U=K[1],V=Object(n.useState)(a.tags),Q=Object(r.a)(V,2),X=Q[0],Z=Q[1],ee=Object(n.useState)(a.introduction),ce=Object(r.a)(ee,2),ie=ce[0],oe=ce[1],re=Object(n.useState)("08:00"),je=Object(r.a)(re,2),ue=je[0],ve=je[1],ye=Object(n.useState)("08:30"),Se=Object(r.a)(ye,2),we=Se[0],Ce=Se[1],_e=Object(n.useState)("Monday"),Ae=Object(r.a)(_e,2),Ne=Ae[0],De=Ae[1],Te=Object(n.useState)(a.picture),qe=Object(r.a)(Te,2),ze=qe[0],Ee=qe[1];function We(e,t){t(e.target.value)}var Me=function(e,t){t(e.target.value)},Pe=function(e,t){t(e.target.value)};function Fe(e,t,a){t(a.filter((function(t){return t!==e})))}var Re=[];L.forEach((function(e){Re.push(Object(P.jsx)(ne.a,{size:"small",label:e,onDelete:function(){Fe(e,I,L)},color:"primary",variant:"outlined"},e))}));var Be=[];function He(){if(""!==o&&""!==u&&""!==y&&""!==q){var t={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true"},n={isRegister:e.isRegister,user_id:a.user_id,availability:L,degree:_,first_name:o,gender:x,introduction:ie,last_name:u,major:q,picture:ze,school:y,tags:X,tutor:"true"===M};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/user",{method:"POST",headers:t,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){alert(t),e.close(),e.reload()})).catch((function(){alert("failed to register/edit")}))}else alert("please fill in required fields")}return X.forEach((function(e){Be.push(Object(P.jsx)(ne.a,{size:"small",label:e,onDelete:function(){Fe(e,Z,X)},color:"secondary",variant:"outlined"},e))})),Object(P.jsx)($.a,{fullWidth:!0,classes:{paperFullWidth:t.dialogCustomizedWidth},open:e.openStatus,onClose:e.closeFunction,TransitionComponent:ke,children:Object(P.jsx)(D.a,{maxWidth:"md",children:Object(P.jsx)(H.a,{className:t.card,children:Object(P.jsx)(de.a,{className:t.form,onSubmit:He,children:Object(P.jsxs)(ae.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(P.jsxs)(ae.a,{item:!0,xs:12,children:[Object(P.jsx)(ge.a,{title:"edit",arrow:!0,children:Object(P.jsx)(v.a,{onClick:function(){var e;null===(e=c.current)||void 0===e||e.click()},children:Object(P.jsx)(te.a,{alt:a.first_name+" "+a.last_name,src:ze})})}),Object(P.jsx)("input",{accept:"image/*",type:"file",id:"icon-button-file",hidden:!0,value:"",onChange:function(t){!function(t){var n=t.target.value,c=a.user_id+"_"+String((new Date).getTime())+"_"+n.split("\\")[n.split("\\").length-1];c=c.replace(/\s/g,"");var s=t.target.files[0];if(s){console.log(s),console.log(i);var i=s.type,o={"Access-Control-Allow-Headers":"*",token:e.token.id_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"PUT","Content-Type":i,Accept:i,"Access-Control-Allow-Credentials":"true"};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/user/picture/"+c,{method:"PUT",headers:o,body:s}).then((function(){var e="https://ccfinalprofilephoto.s3.amazonaws.com/"+c.replace(/@/g,"%40");Ee(e)})).catch((function(e){alert("failed to upload file")}))}}(t),console.log(be.a)},ref:c})]}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(se.a,{label:"email",disabled:!0,value:a.user_id,required:!0})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsxs)(fe.a,{component:"fieldset",required:!0,children:[Object(P.jsx)(xe.a,{component:"legend",children:"gender"}),Object(P.jsxs)(Oe.a,{row:!0,value:x,onChange:function(e){Pe(e,m)},children:[Object(P.jsx)(le.a,{value:"F",control:Object(P.jsx)(he.a,{}),label:"F"}),Object(P.jsx)(le.a,{value:"M",control:Object(P.jsx)(he.a,{}),label:"M"})]})]})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(se.a,{label:"first name",value:o,required:!0,onChange:function(e){We(e,l)}})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(se.a,{label:"last name",value:u,required:!0,onChange:function(e){We(e,b)}})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(se.a,{required:!0,label:"school",value:y,onChange:function(e){We(e,S)}})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(fe.a,{required:!0,children:Object(P.jsxs)(me.a,{value:_,onChange:function(e){Me(e,A)},children:[Object(P.jsx)(pe.a,{value:"B.S",children:"B.S"}),Object(P.jsx)(pe.a,{value:"B.A",children:"B.A"}),Object(P.jsx)(pe.a,{value:"M.S",children:"M.S"}),Object(P.jsx)(pe.a,{value:"M.A",children:"M.A"}),Object(P.jsx)(pe.a,{value:"M.F.A",children:"M.F.A"}),Object(P.jsx)(pe.a,{value:"PhD",children:"Ph.D"}),Object(P.jsx)(pe.a,{value:"Others",children:"Others"})]})})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(se.a,{required:!0,label:"major",value:q,onChange:function(e){We(e,z)}})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsxs)(fe.a,{component:"fieldset",children:[Object(P.jsx)(xe.a,{component:"legend",children:"discovered as tutor"}),Object(P.jsxs)(Oe.a,{row:!0,value:M,onChange:function(e){Pe(e,F)},children:[Object(P.jsx)(le.a,{value:"true",control:Object(P.jsx)(he.a,{}),label:"Yes"}),Object(P.jsx)(le.a,{value:"false",control:Object(P.jsx)(he.a,{}),label:"No"})]})]})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsx)(se.a,{fullWidth:!0,multiline:!0,label:"Introduction",rows:6,variant:"outlined",value:ie,onChange:function(e){We(e,oe)}})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Re}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Be}),Object(P.jsxs)(ae.a,{item:!0,xs:6,style:{display:"flex"},children:[Object(P.jsx)(se.a,{type:"time",label:"from",value:ue,onChange:function(e){We(e,ve)},InputLabelProps:{shrink:!0},inputProps:{step:1800}}),Object(P.jsx)(se.a,{type:"time",label:"to",value:we,onChange:function(e){We(e,Ce)},InputLabelProps:{shrink:!0},inputProps:{step:1800}}),Object(P.jsxs)(me.a,{value:Ne,onChange:function(e){Me(e,De)},displayEmpty:!0,children:[Object(P.jsx)(pe.a,{value:""}),Object(P.jsx)(pe.a,{value:"Monday",children:"Monday"}),Object(P.jsx)(pe.a,{value:"Tuesday",children:"Tuesday"}),Object(P.jsx)(pe.a,{value:"Wednesday",children:"Wednesday"}),Object(P.jsx)(pe.a,{value:"Thursday",children:"Thursday"}),Object(P.jsx)(pe.a,{value:"Friday",children:"Friday"}),Object(P.jsx)(pe.a,{value:"Saturday",children:"Saturday"}),Object(P.jsx)(pe.a,{value:"Sunday",children:"Sunday"})]}),Object(P.jsx)(k.a,{size:"small",onClick:function(){!function(){var e=Number(ue.split(":")[0]),t=Number(ue.split(":")[1]),a=Number(we.split(":")[0]),n=Number(we.split(":")[1]);if(e<=a)if(e===a){if(t<=n){var c=ue+"-"+we+","+Ne;if(!L.includes(c)){var s=L.concat(c);I(s)}}}else{var i=ue+"-"+we+","+Ne;if(!L.includes(i)){var o=L.concat(i);I(o)}}}()},children:"add"})]}),Object(P.jsxs)(ae.a,{item:!0,xs:4,style:{display:"flex"},children:[Object(P.jsx)(se.a,{size:"small",value:Y,label:"Add tag",onChange:function(e){We(e,U)}}),Object(P.jsx)(k.a,{size:"small",onClick:function(){!function(){if(!(X.includes(Y)||X.length>=5||0==Y.length||0==Y.split(" ").length)){var e=X.concat(Y);Z(e)}}()},children:"add"})]}),Object(P.jsx)(ae.a,{item:!0,xs:2,style:{display:"flex"},children:Object(P.jsx)(k.a,{size:"small",onClick:function(){He()},color:"secondary",children:"Submit"})})]})})})})})}function ye(e){var t=Object(n.useState)({availability:[],tags:[],first_name:"null",last_name:"null",user_id:"null",tutor:!1,school:"null",degree:"null",picture:"null",major:"null",introduction:"null",gender:"null"}),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(f.a)((function(t){return Object(J.a)({card:{background:e.isDark?"#333333":"#ffffff"},picContainer:{display:"flex","& > *":{marginLeft:t.spacing(4),marginTop:t.spacing(4)}},icon:{width:t.spacing(12),height:t.spacing(12)},name:{marginTop:t.spacing(6)},details:{background:e.isDark?"#303030":"#f2f3f5",margin:t.spacing(4)},content:{margin:t.spacing(2)},contexHeader:{marginLeft:t.spacing(4),marginTop:t.spacing(.5)},contexBody:{marginLeft:t.spacing(8),marginRight:t.spacing(8),marginTop:t.spacing(.5)},button:{margin:t.spacing(4)}})}))();Object(n.useEffect)((function(){var t={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true",user_id:e.email};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/user/",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){s(e),d(!0)}))}),[]);var u=[];c.availability&&c.availability.forEach((function(e){u.push(Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(ne.a,{label:e,variant:"outlined",color:"primary"})}))}));var b=[];c.tags&&c.tags.forEach((function(e){b.push(Object(P.jsx)(ae.a,{item:!0,xs:2,children:Object(P.jsx)(ne.a,{label:e,variant:"outlined",color:"secondary"})}))}));var h=Object(n.useState)(!1),O=Object(r.a)(h,2),x=O[0],m=O[1];function p(){m(!1)}return Object(P.jsx)("div",{children:l?Object(P.jsxs)(D.a,{maxWidth:"md",children:[Object(P.jsx)(H.a,{className:j.card,children:Object(P.jsxs)(ae.a,{container:!0,spacing:2,children:[Object(P.jsx)(ae.a,{item:!0,xs:2,children:Object(P.jsx)("div",{className:j.picContainer,children:Object(P.jsx)(te.a,{alt:c.first_name+" "+c.last_name,src:c.picture,className:j.icon})})}),Object(P.jsx)(ae.a,{item:!0,xs:8,children:Object(P.jsx)(g.a,{variant:"h4",className:j.name,children:c.first_name+" "+c.last_name})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsxs)(D.a,{maxWidth:"md",children:[Object(P.jsx)(H.a,{className:j.details,children:Object(P.jsxs)(ae.a,{container:!0,spacing:2,direction:"row",className:j.content,children:[Object(P.jsxs)(ae.a,{item:!0,xs:6,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"email / user id"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:c.user_id})]}),Object(P.jsxs)(ae.a,{item:!0,xs:6,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"gender"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:c.gender})]}),Object(P.jsxs)(ae.a,{item:!0,xs:6,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"school"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:c.school})]}),Object(P.jsxs)(ae.a,{item:!0,xs:6,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"degree"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:c.degree})]}),Object(P.jsxs)(ae.a,{item:!0,xs:6,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"major"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:null==c.major?"N/A":c.major})]}),Object(P.jsx)(ae.a,{item:!0,xs:6,children:e.editable?Object(P.jsxs)("div",{children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"discovered as tutor"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:c.tutor?"Yes":"No"})]}):Object(P.jsx)("div",{})}),Object(P.jsxs)(ae.a,{item:!0,xs:12,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"introduction"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:c.introduction})]}),c.tutor?Object(P.jsxs)(ae.a,{item:!0,xs:12,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"weekly availabilities"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:Object(P.jsx)(ae.a,{container:!0,spacing:1,children:u})})]}):Object(P.jsx)("div",{}),Object(P.jsxs)(ae.a,{item:!0,xs:12,children:[Object(P.jsx)(g.a,{variant:"body2",className:j.contexHeader,color:"textSecondary",children:"tags"}),Object(P.jsx)(g.a,{variant:"body1",className:j.contexBody,children:b.length>0?Object(P.jsx)(ae.a,{container:!0,alignItems:"flex-start",justify:"flex-start",children:b}):Object(P.jsx)("div",{children:"N/A"})})]})]})}),Object(P.jsxs)(ae.a,{container:!0,className:j.button,children:[Object(P.jsx)(ae.a,{item:!0,xs:10}),(e.editable,Object(P.jsx)("div",{})),Object(P.jsx)(ae.a,{item:!0,xs:2,children:e.editable?Object(P.jsx)(k.a,{variant:"outlined",size:"small",onClick:function(){m(!0)},children:"edit"}):Object(P.jsx)("div",{})})]})]})})]})}),Object(P.jsx)(ve,{openStatus:x,closeFunction:p,isDark:e.isDark,profile:c,isRegister:!1,token:e.token,close:p,reload:function(){window.location.reload()}})]}):Object(P.jsx)("div",{})})}var Se=Object(f.a)((function(e){return Object(J.a)({dialogCustomizedWidth:{"max-width":"100%",backgroundColor:"transparent",boxShadow:"none"}})})),we=c.a.forwardRef((function(e,t){return Object(P.jsx)(ee.a,Object(o.a)({direction:"left",ref:t},e))}));function Ce(e){var t=Se();return Object(P.jsx)($.a,{fullWidth:!0,classes:{paperFullWidth:t.dialogCustomizedWidth},open:e.openStatus,onClose:e.closeFunction,TransitionComponent:we,children:Object(P.jsx)(ye,{isDark:e.isDark,email:e.user_id,editable:e.editable,token:e.token})})}var _e=c.a.forwardRef((function(e,t){return Object(P.jsx)(ee.a,Object(o.a)({direction:"left",ref:t},e))})),Ae=Object(f.a)((function(e){return Object(J.a)({dialogCustomizedWidth:{"max-width":"100%",backgroundColor:"transparent",boxShadow:"none"},fabStyle:{bottom:e.spacing(2),marginLeft:"70%",position:"sticky",color:"secondary"}})}));function Ne(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)("null"),l=Object(r.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)("null"),b=Object(r.a)(u,2),h=b[0],O=b[1],f=Object(n.useState)(!0),x=Object(r.a)(f,2),m=x[0],p=x[1],g=c.a.useState(!1),k=Object(r.a)(g,2),y=k[0],S=k[1],w=c.a.useState(!1),C=Object(r.a)(w,2),_=C[0],A=C[1],N=c.a.useState("null"),T=Object(r.a)(N,2),q=T[0],z=T[1],E=c.a.useState("null"),W=Object(r.a)(E,2),M=W[0],F=W[1],R=Object(n.useState)([]),B=Object(r.a)(R,2),H=B[0],L=B[1];function I(e){S(!0),z(e)}function G(e,t){A(!0),z(e),F(t)}function J(){A(!1),z("null"),F("null")}var U=Object(P.jsx)(Q.a,{color:"secondary"}),X=s.map((function(e){return Object(P.jsx)(Y.a,{children:Object(P.jsx)(ce,{profile:e,handleAsk:G,handleProfile:I})},e.user_id)})),ee=Ae();return Object(P.jsxs)("div",{children:[Object(P.jsxs)(D.a,{maxWidth:"lg",children:[Object(P.jsx)(K.a,{children:Object(P.jsx)(V.a,{pageStart:0,loadMore:function(){var t={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true"};"null"!==d&&(t.last_key=JSON.stringify({user_id:d,tutor_id:h})),fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/recommender/user",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){if(e.data){if(m&&e.data.length>0&&!H.includes(e.data[0].user_id)){var t=s.concat(e.data[0].user_id);L(t);var a=s.concat(e.data);i(a)}e.LastEvaluatedKey?(j(e.LastEvaluatedKey.user_id),O(e.LastEvaluatedKey.tutor_id)):p(!1)}}))},hasMore:m,loader:U,children:X})}),Object(P.jsx)(v.a,{onClick:function(){G("null","null")},className:ee.fabStyle,children:Object(P.jsx)(Z.a,{color:"secondary"})})]}),Object(P.jsx)(Ce,{openStatus:y,closeFunction:function(){S(!1),z("null")},isDark:!1,user_id:q,editable:!1,token:e.token}),Object(P.jsx)($.a,{fullWidth:!0,classes:{paperFullWidth:ee.dialogCustomizedWidth},open:_,onClose:J,TransitionComponent:_e,children:"null"==q?Object(P.jsx)(ue,{aws:e.aws,token:e.token,email:"Null",name:"Null",isDark:!1,ask:!0,close:J,tags:[]}):Object(P.jsx)(ue,{token:e.token,email:q,name:M,isDark:!1,ask:!0,close:J,tags:[]})})]})}function De(e){var t=null,a=!1;e.isRecom?t="help":("finished"!=e.information.status&&"expired"!=e.information.status&&(t="cancel"),(e.isDark&&"asked"===e.information.status||!e.isDark&&"accepted"===e.information.status)&&(a=!0));var n=[];e.information.tags.forEach((function(e){n.push(Object(P.jsx)(ne.a,{label:e,size:"small",variant:"outlined"})),n.length>5&&n.shift()}));var c=Object(f.a)((function(a){return Object(J.a)({root:{width:"60%",background:e.isDark?null!=t?e.isOwner?"#333333":"#424242":"#000000":null!=t?e.isOwner?"linear-gradient(to right bottom, #e54ce5, #f7cc66)":"linear-gradient(to right bottom, #817bf7, #ed7bf3)":"#ffffff"},avatars:{width:a.spacing(7),height:a.spacing(7)}})}))();return Object(P.jsx)(H.a,{className:c.root,children:Object(P.jsx)(I.a,{children:Object(P.jsxs)(ae.a,{container:!0,direction:"row",justify:"flex-start",spacing:1,alignItems:"center",children:[Object(P.jsx)(ae.a,{item:!0,xs:4,children:e.isRecom||!e.isOwner?Object(P.jsx)(k.a,{size:"small",onClick:function(){e.handleProfile(e.information.user_id)},children:Object(P.jsx)(te.a,{alt:e.information.user,src:e.information.user_picture,className:c.avatars})}):Object(P.jsx)(te.a,{alt:e.information.user,src:e.information.user_picture,className:c.avatars})}),Object(P.jsx)(ae.a,{item:!0,xs:5,children:Object(P.jsx)(g.a,{gutterBottom:!0,variant:"subtitle1",children:e.information.title})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:null!=e.information.tutor?Object(P.jsx)(k.a,{size:"small",onClick:function(){e.handleProfile(e.information.tutor_id)},children:Object(P.jsx)(te.a,{alt:e.information.tutor,src:e.information.tutor_picture,className:c.avatars})}):Object(P.jsx)("div",{})}),Object(P.jsx)(ae.a,{item:!0,xs:9,children:Object(P.jsx)(g.a,{variant:"body1",children:e.information.user})}),Object(P.jsx)(ae.a,{item:!0,xs:3,children:Object(P.jsx)(g.a,{variant:"body1",children:e.information.tutor})}),Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsx)(g.a,{variant:"body2",color:"textSecondary",children:e.information.detail})}),Object(P.jsx)(ae.a,{item:!0,xs:10,children:n}),e.isRecom?Object(P.jsx)("div",{}):Object(P.jsx)(ae.a,{item:!0,xs:2,children:Object(P.jsx)(g.a,{variant:"body2",color:"textSecondary",children:e.information.time})}),e.isRecom?Object(P.jsx)("div",{}):Object(P.jsx)(ae.a,{item:!0,xs:10,children:Object(P.jsx)(g.a,{variant:"body2",color:"textSecondary",children:e.information.status})}),Object(P.jsx)(ae.a,{item:!0,xs:2,children:null!=t?"help"==t?Object(P.jsx)(k.a,{variant:"outlined",size:"small",onClick:function(){e.handleHelp(e.information.question_id,e.information.created_at,e.information.user_id,e.information.user,e.information.title,e.information.detail,e.information.attachment,e.information.tags)},children:t}):Object(P.jsx)(k.a,{size:"small",color:"secondary",onClick:function(){e.handleCancel(e.information.question_id,String(e.information.created_at))},children:t}):Object(P.jsx)("div",{})}),Object(P.jsx)(ae.a,{item:!0,xs:10,children:e.information.attachment?Object(P.jsx)(ae.a,{item:!0,xs:12,children:Object(P.jsx)(g.a,{variant:"body2",color:"textSecondary",children:Object(P.jsx)("a",{href:e.information.attachment,children:"attachment"})})}):Object(P.jsx)("div",{})}),Object(P.jsx)(ae.a,{item:!0,xs:2,children:a?Object(P.jsx)(k.a,{size:"small",color:"primary",onClick:function(){fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/question/confirm",{method:"POST",headers:{"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Credentials":"true",question_keys:e.information.question_id+" "+String(e.information.created_at)},body:""}).then((function(e){return e.json()})).then((function(t){alert(t),e.reload()})).catch((function(t){alert(t),e.reload()}))},children:"confirm"}):Object(P.jsx)("div",{})})]})})})}var Te=c.a.forwardRef((function(e,t){return Object(P.jsx)(ee.a,Object(o.a)({direction:"left",ref:t},e))})),qe=Object(f.a)((function(e){return Object(J.a)({dialogCustomizedWidth:{"max-width":"100%",backgroundColor:"transparent",boxShadow:"none"},fabStyle:{bottom:e.spacing(2),marginLeft:"70%",position:"sticky",color:"secondary"}})}));function ze(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)("null"),l=Object(r.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)("null"),b=Object(r.a)(u,2),h=b[0],O=b[1],f=Object(n.useState)(!0),x=Object(r.a)(f,2),m=x[0],p=x[1],g=c.a.useState(!1),k=Object(r.a)(g,2),v=k[0],y=k[1],S=c.a.useState("null"),w=Object(r.a)(S,2),C=w[0],_=w[1],A=c.a.useState(!1),N=Object(r.a)(A,2),T=N[0],q=N[1],z=c.a.useState("null"),E=Object(r.a)(z,2),W=E[0],M=E[1],F=c.a.useState("null"),R=Object(r.a)(F,2),B=R[0],H=R[1],L=c.a.useState("null"),I=Object(r.a)(L,2),G=I[0],J=I[1],U=c.a.useState("null"),X=Object(r.a)(U,2),Z=X[0],ee=X[1],te=c.a.useState("null"),ae=Object(r.a)(te,2),ne=ae[0],ce=ae[1],se=c.a.useState("null"),ie=Object(r.a)(se,2),oe=ie[0],re=ie[1],le=Object(n.useState)([]),de=Object(r.a)(le,2),je=de[0],be=de[1],he=Object(n.useState)([]),Oe=Object(r.a)(he,2),fe=Oe[0],xe=Oe[1];function me(e){y(!0),_(e)}function pe(e,t,a,n,c,s,i,o){q(!0),ce(e),re(t),_(a),M(n),H(c),J(s),ee(i),xe(o)}function ge(){q(!1),_("null"),M("null"),H("null"),J("null"),ee("null"),xe([])}var ke=Object(P.jsx)(Q.a,{color:"secondary"}),ve=[];s.forEach((function(e){ve.push(Object(P.jsx)(Y.a,{children:Object(P.jsx)(De,{information:e,isOwner:!1,isDark:!0,isRecom:!0,handleProfile:me,handleHelp:pe})},e.question_id))}));var ye=qe();return Object(P.jsxs)("div",{children:[Object(P.jsx)(D.a,{maxWidth:"lg",children:Object(P.jsx)(K.a,{children:Object(P.jsx)(V.a,{pageStart:0,loadMore:function(){var t="null";"null"!==d&&(t=JSON.stringify({user_id:d,tutor_id:h}));var a={token:e.token.id_token,access_token:e.token.access_token,last_key:t,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"*","Content-Type":"application/json","Access-Control-Allow-Credentials":"true"};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/recommender/question",{method:"GET",headers:a}).then((function(e){return e.json()})).then((function(e){if(e.data){if(m&&e.data.length>0&&!je.includes(e.data[0].user_id)){var t=s.concat(e.data[0].user_id);be(t);var a=s.concat(e.data);i(a)}e.LastEvaluatedKey?(j(e.LastEvaluatedKey.user_id),O(e.LastEvaluatedKey.tutor_id)):p(!1)}}))},hasMore:m,loader:ke,children:ve})})}),Object(P.jsx)(Ce,{openStatus:v,closeFunction:function(){y(!1),_("null")},isDark:!0,user_id:C,editable:!1,token:e.token}),Object(P.jsx)($.a,{fullWidth:!0,classes:{paperFullWidth:ye.dialogCustomizedWidth},open:T,onClose:ge,TransitionComponent:Te,children:Object(P.jsx)(ue,{token:e.token,isDark:!0,ask:!1,email:C,name:W,title:B,detail:G,attachment:Z,tags:fe,question_id:ne,created_at:oe,close:ge,reload:function(){i([]),p(!0),j("null"),O("null")}})})]})}function Ee(e){var t=Object(f.a)({root:{minWidth:275,background:"linear-gradient(to bottom, #9492ef, #dc95ee)",borderRadius:0,boxShadow:"none"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:64,fontFamily:"Amatic SC",color:"#ffffff",textAlign:"center",marginTop:"7%"},pos:{marginBottom:12},footer:{marginTop:"25%"}})();return Object(P.jsxs)(H.a,{className:t.root,children:[Object(P.jsx)(I.a,{children:Object(P.jsx)(g.a,{className:t.title,color:"textSecondary",gutterBottom:!0,children:Object(P.jsx)(N.a,{fontWeight:"fontWeightBold",children:"Your Place to Ask/Answer"})})}),Object(P.jsx)(L.a,{className:t.footer})]})}function We(e){return Object(P.jsxs)("div",{children:[Object(P.jsx)(G,{text:e.isDark?"Discover Questions":"Find Tutors",isDark:e.isDark,token:e.token}),e.isDark?Object(P.jsx)(ze,{token:e.token}):Object(P.jsx)(Ne,{token:e.token})]})}function Me(e){var t="null"!=e.token;return Object(P.jsx)("div",{className:"home",children:t?Object(P.jsx)(We,{isDark:e.isDark,token:e.token}):Object(P.jsx)(Ee,{})})}var Pe=a(209);var Fe=function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!0),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)({user_id:"",picture:"",given_name:"",family_name:""}),u=Object(r.a)(j,2),b=u[0],h=u[1];function O(){s(!c),e.login(b)}var f=function(){var e={id_token:"",access_token:""},t=window.location.href.match(/[?#&]+([^=&]+)=([^&]*)/gi);return t&&(e.id_token=t[0].split("=")[1],e.access_token=t[1].split("=")[1]),e}(),x=f.access_token,m=f.id_token;return Object(n.useEffect)((function(){!function(t,a){d(!0),Promise.all([fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/login",{method:"GET",headers:{"Access-Control-Allow-Headers":"*",token:t,access_token:a,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true"}}).then((function(e){return e.json()})),fetch("https://ccfinalsy2938.auth.us-east-1.amazoncognito.com/oauth2/userInfo",{method:"get",headers:{Authorization:"Bearer "+a}}).then((function(e){return e.json()}))]).then((function(t){var n=t[1];n.email?(s(t[0]),n.user_id=n.email,n.id_token=m,n.access_token=a,c?(e.login(n),window.location.href="./"):h(n),d(!1)):(alert("error while login"),window.location.href="./")})).catch((function(e){alert(e),window.location.href="./"}))}(m,x)}),[c]),Object(P.jsx)("div",{children:l?Object(P.jsx)(Pe.a,{color:"secondary"}):Object(P.jsx)(ve,{openStatus:!c,closeFunction:O,isDark:!1,profile:{availability:[],tags:[],first_name:b.given_name,last_name:b.family_name,user_id:b.user_id,tutor:!1,school:"",degree:"",picture:b.picture,major:"",introduction:"",gender:"F"},isRegister:!0,token:b,close:O,reload:function(){window.location.href="./"}})})},Re=a(212),Be=a(210),He=a(211);function Le(e){return Object(P.jsxs)($.a,{open:e.openStatus,onClose:e.handleClose,children:[Object(P.jsx)(Be.a,{children:Object(P.jsx)(He.a,{id:"alert-dialog-description",children:"Are you sure you want to cancel the question?"})}),Object(P.jsxs)(Re.a,{children:[Object(P.jsx)(k.a,{onClick:function(){return function(){var t={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Credentials":"true",question_keys:e.question_keys};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/question/",{method:"DELETE",headers:t}).then((function(e){return e.json()})).then((function(t){e.reload(),alert(t)})).catch((function(t){console.log(t),alert(t),e.reload()}))}()},color:"secondary",children:"Yes"}),Object(P.jsx)(k.a,{onClick:e.handleClose,color:"primary",autoFocus:!0,children:"No"})]})]})}function Ie(e){var t=Object(n.useState)("null"),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)([]),l=Object(r.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!0),b=Object(r.a)(u,2),h=b[0],O=b[1],f=c.a.useState(!1),x=Object(r.a)(f,2),m=x[0],p=x[1],g=c.a.useState("null"),k=Object(r.a)(g,2),v=k[0],y=k[1],S=c.a.useState(!1),w=Object(r.a)(S,2),C=w[0],_=w[1],A=c.a.useState("null"),N=Object(r.a)(A,2),T=N[0],q=N[1],z=Object(n.useState)([]),E=Object(r.a)(z,2),W=E[0],M=E[1];function F(){j([]),M([]),i("null"),i("null"),O(!0),_(!1)}function R(e){p(!0),y(e)}function B(e,t){_(!0),q(e+" "+t)}var H=Object(P.jsx)(Q.a,{color:"secondary"}),L=d.map((function(t){return Object(P.jsx)(Y.a,{children:Object(P.jsx)(De,{information:t,isOwner:t.user_id===e.token.email,isDark:!1,isRecom:!1,handleProfile:R,handleCancel:B,token:e.token,reload:F})},t.question_id)}));return Object(P.jsxs)("div",{children:[Object(P.jsx)(D.a,{maxWidth:"lg",style:{textAlign:"center"},children:Object(P.jsx)(K.a,{children:Object(P.jsx)(V.a,{pageStart:0,loadMore:function(){fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/user/history",{method:"GET",headers:{"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,is_ask:"true",last_key:s,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true"}}).then((function(e){return e.json()})).then((function(e){if(e.data){if(h&&e.data.length>0&&!W.includes(e.data[0].user_id)){var t=d.concat(e.data[0].user_id);M(t);var a=d.concat(e.data);j(a)}e.LastEvaluatedKey?i(JSON.stringify(e.LastEvaluatedKey)):O(!1)}}))},hasMore:h,loader:H,children:L})})}),Object(P.jsx)(Ce,{openStatus:m,closeFunction:function(e){p(!1),y("null")},isDark:!1,user_id:v,editable:!1,token:e.token}),Object(P.jsx)(Le,{token:e.token,question_keys:T,openStatus:C,handleClose:function(e){_(!1),q("null")},reload:F})]})}function Ge(e){var t=Object(n.useState)("null"),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)([]),l=Object(r.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!0),b=Object(r.a)(u,2),h=b[0],O=b[1],f=c.a.useState(!1),x=Object(r.a)(f,2),m=x[0],p=x[1],g=c.a.useState("null"),k=Object(r.a)(g,2),v=k[0],y=k[1],S=c.a.useState(!1),w=Object(r.a)(S,2),C=w[0],_=w[1],A=c.a.useState("null"),N=Object(r.a)(A,2),T=N[0],q=N[1],z=Object(n.useState)([]),E=Object(r.a)(z,2),W=E[0],M=E[1];function F(){j([]),M([]),i("null"),i("null"),O(!0),_(!1)}function R(e){p(!0),y(e)}function B(e,t){_(!0),q(e+" "+t)}var H=Object(P.jsx)(Q.a,{color:"secondary"}),L=d.map((function(t){return Object(P.jsx)(Y.a,{children:Object(P.jsx)(De,{information:t,isOwner:t.user_id===e.token.email,isDark:!0,isRecom:!1,handleProfile:R,handleCancel:B,token:e.token,reload:F})},t.question_id)}));return Object(P.jsxs)("div",{children:[Object(P.jsx)(D.a,{maxWidth:"lg",style:{textAlign:"center"},children:Object(P.jsx)(K.a,{children:Object(P.jsx)(V.a,{pageStart:0,loadMore:function(){fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/user/history",{method:"GET",headers:{"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,is_ask:"false",last_key:s,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true"}}).then((function(e){return e.json()})).then((function(e){if(e.data){if(h&&e.data.length>0&&!W.includes(e.data[0].user_id)){var t=d.concat(e.data[0].user_id);M(t);var a=d.concat(e.data);j(a)}e.LastEvaluatedKey?i(JSON.stringify(e.LastEvaluatedKey)):O(!1)}}))},hasMore:h,loader:H,children:L})})}),Object(P.jsx)(Ce,{openStatus:m,closeFunction:function(e){p(!1),y("null")},isDark:!0,user_id:v,editable:!1,token:e.token}),Object(P.jsx)(Le,{token:e.token,question_keys:T,openStatus:C,handleClose:function(e){_(!1),q("null")},reload:F})]})}function Je(e){return Object(P.jsxs)("div",{children:[Object(P.jsx)(G,{text:"History",isDark:e.isDark}),e.isDark?Object(P.jsx)(Ge,{token:e.token}):Object(P.jsx)(Ie,{token:e.token})]})}var Ke=function(e){return Object(P.jsxs)("div",{children:[Object(P.jsx)(G,{text:"",isDark:e.isDark}),Object(P.jsx)("div",{style:{marginTop:"2%"}}),Object(P.jsx)(ye,{token:e.token,isDark:e.isDark,email:e.token.email,editable:!0})]})},Ye=c.a.forwardRef((function(e,t){return Object(P.jsx)(ee.a,Object(o.a)({direction:"left",ref:t},e))})),Ue=Object(f.a)((function(e){return Object(J.a)({dialogCustomizedWidth:{"max-width":"100%",backgroundColor:"transparent",boxShadow:"none"},fabStyle:{bottom:e.spacing(2),marginLeft:"70%",position:"sticky",color:"secondary"}})}));function Ve(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(!0),l=Object(r.a)(o,2),d=l[0],j=l[1],u=c.a.useState(!1),b=Object(r.a)(u,2),h=b[0],O=b[1],f=c.a.useState("null"),x=Object(r.a)(f,2),m=x[0],p=x[1],g=c.a.useState(!1),k=Object(r.a)(g,2),v=k[0],y=k[1],S=c.a.useState("null"),w=Object(r.a)(S,2),C=w[0],_=w[1],A=c.a.useState("null"),N=Object(r.a)(A,2),T=N[0],q=N[1],z=c.a.useState("null"),E=Object(r.a)(z,2),W=E[0],M=E[1],F=c.a.useState("null"),R=Object(r.a)(F,2),B=R[0],H=R[1],L=c.a.useState("null"),I=Object(r.a)(L,2),G=I[0],J=I[1],U=c.a.useState("null"),V=Object(r.a)(U,2),X=V[0],Z=V[1],ee=Object(n.useState)([]),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)([]),se=Object(r.a)(ce,2),ie=se[0],oe=se[1];function re(e){O(!0),p(e)}function le(e,t,a,n,c,s,i,o){y(!0),J(e),Z(t),p(a),_(n),q(c),M(s),H(i),oe(o)}function de(){y(!1),p("null"),_("null"),q("null"),M("null"),H("null"),oe([])}Object(n.useEffect)((function(){i([]),ne([]),j(!0)}),[e.keywords]),function(){var t={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true",keywords:e.keywords};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/search/question",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){if(e.data&&d&&e.data.length>0&&!ae.includes(e.data[0].user_id)){var t=s.concat(e.data[0].user_id);ne(t);var a=s.concat(e.data);i(a)}})).then((function(){j(!1)}))}();var je=[];s.forEach((function(e){je.push(Object(P.jsx)(Y.a,{children:Object(P.jsx)(De,{information:e,isOwner:!1,isDark:!0,isRecom:!0,handleProfile:re,handleHelp:le})},e.question_id))}));var be=Ue();return Object(P.jsxs)("div",{children:[Object(P.jsxs)(D.a,{maxWidth:"lg",children:[Object(P.jsx)(K.a,{children:je}),d?Object(P.jsx)(Q.a,{color:"secondary"}):Object(P.jsx)("div",{})]}),Object(P.jsx)(Ce,{openStatus:h,closeFunction:function(){O(!1),p("null")},isDark:!0,user_id:m,editable:!1,token:e.token}),Object(P.jsx)($.a,{fullWidth:!0,classes:{paperFullWidth:be.dialogCustomizedWidth},open:v,onClose:de,TransitionComponent:Ye,children:Object(P.jsx)(ue,{token:e.token,isDark:!0,ask:!1,email:m,name:C,title:T,detail:W,attachment:B,tags:ie,question_id:G,created_at:X,close:de,reload:function(){i([]),j(!0)}})})]})}var Qe=c.a.forwardRef((function(e,t){return Object(P.jsx)(ee.a,Object(o.a)({direction:"left",ref:t},e))})),Xe=Object(f.a)((function(e){return Object(J.a)({dialogCustomizedWidth:{"max-width":"100%",backgroundColor:"transparent",boxShadow:"none"},fabStyle:{bottom:e.spacing(2),marginLeft:"70%",position:"sticky",color:"secondary"}})}));function Ze(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(!0),l=Object(r.a)(o,2),d=l[0],j=l[1],u=c.a.useState(!1),b=Object(r.a)(u,2),h=b[0],O=b[1],f=c.a.useState(!1),x=Object(r.a)(f,2),m=x[0],p=x[1],g=c.a.useState("null"),k=Object(r.a)(g,2),y=k[0],S=k[1],w=c.a.useState("null"),C=Object(r.a)(w,2),_=C[0],A=C[1],N=Object(n.useState)([]),T=Object(r.a)(N,2),q=T[0],z=T[1];function E(e){O(!0),S(e)}function W(e,t){p(!0),S(e),A(t)}function M(){p(!1),S("null"),A("null")}Object(n.useEffect)((function(){i([]),z([]),j(!0)}),[e.keywords]),function(){var t={"Access-Control-Allow-Headers":"*",token:e.token.id_token,access_token:e.token.access_token,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Content-Type":"application/json","Access-Control-Allow-Credentials":"true",keywords:e.keywords};fetch("https://gr73qrcwnl.execute-api.us-east-1.amazonaws.com/v1/search/user",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){if(e.data&&d&&e.data.length>0&&!q.includes(e.data[0].user_id)){var t=s.concat(e.data[0].user_id);z(t);var a=s.concat(e.data);i(a)}})).then((function(){j(!1)}))}();var F=s.map((function(e){return Object(P.jsx)(Y.a,{children:Object(P.jsx)(ce,{profile:e,handleAsk:W,handleProfile:E})},e.user_id)})),R=Xe();return Object(P.jsxs)("div",{children:[Object(P.jsxs)(D.a,{maxWidth:"lg",children:[Object(P.jsx)(K.a,{children:F}),d?Object(P.jsx)(Q.a,{color:"secondary"}):Object(P.jsx)("div",{}),Object(P.jsx)(v.a,{onClick:function(){W("null","null")},className:R.fabStyle,children:Object(P.jsx)(Z.a,{color:"secondary"})})]}),Object(P.jsx)(Ce,{openStatus:h,closeFunction:function(){O(!1),S("null")},isDark:!1,user_id:y,editable:!1,token:e.token}),Object(P.jsx)($.a,{fullWidth:!0,classes:{paperFullWidth:R.dialogCustomizedWidth},open:m,onClose:M,TransitionComponent:Qe,children:"null"==y?Object(P.jsx)(ue,{aws:e.aws,token:e.token,email:"Null",name:"Null",isDark:!1,ask:!0,close:M,tags:[]}):Object(P.jsx)(ue,{token:e.token,email:y,name:_,isDark:!1,ask:!0,close:M,tags:[]})})]})}function $e(e){return Object(P.jsxs)("div",{children:[Object(P.jsx)(G,{text:e.isDark?"Search Questions":"Search Tutors",isDark:e.isDark,token:e.token}),e.isDark?Object(P.jsx)(Ve,{token:e.token,keywords:e.location.state.q}):Object(P.jsx)(Ze,{token:e.token,keywords:e.location.state.q})]})}var et=function(){var e=sessionStorage.getItem("token"),t=Object(n.useState)(null==e?"null":JSON.parse(e)),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),d=Object(r.a)(i,2),O=d[0],f=d[1],x=Object(u.a)({palette:{type:O?"dark":"light"}});function m(e){"null"==e?(sessionStorage.clear(),s(e)):(sessionStorage.setItem("token",JSON.stringify(e)),s(e))}return Object(P.jsx)("div",{className:"App",children:Object(P.jsxs)(b.a,{theme:x,children:[Object(P.jsx)(h.a,{}),Object(P.jsxs)(l.c,{history:j,children:[Object(P.jsx)(B,{token:c,isDark:O,switchRole:function(){f(!O)},logout:function(){m("null")}}),Object(P.jsxs)(l.d,{children:[Object(P.jsx)(l.b,{exact:!0,path:"/",render:function(e){return Object(P.jsx)(Me,Object(o.a)({token:c,isDark:O},e))}}),Object(P.jsx)(l.b,{exact:!0,path:"/login",render:function(e){return Object(P.jsx)(Fe,Object(o.a)({login:m},e))}}),"null"!=c?Object(P.jsx)(l.b,{exact:!0,path:"/history",render:function(e){return Object(P.jsx)(Je,Object(o.a)({token:c,isDark:O},e))}}):Object(P.jsx)(l.a,{to:"/"}),"null"!=c?Object(P.jsx)(l.b,{exact:!0,path:"/profile",render:function(e){return Object(P.jsx)(Ke,Object(o.a)({token:c,isDark:O},e))}}):Object(P.jsx)(l.a,{to:"/"}),"null"!=c?Object(P.jsx)(l.b,{exact:!0,path:"/search",render:function(e){return Object(P.jsx)($e,Object(o.a)({token:c,isDark:O},e))}}):Object(P.jsx)(l.a,{to:"/"})]})]})]})})},tt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,227)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(et,{})}),document.getElementById("root")),tt()}},[[145,1,2]]]);
//# sourceMappingURL=main.238daf43.chunk.js.map